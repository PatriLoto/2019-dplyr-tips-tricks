---
title: "Rladies"
subtitle: "⚔<br/> Resistencia Corrientes"
author: "Ejercicios dplyr"
date: "-- de Agosto de 2019"
output:
  xaringan::moon_reader:
    css: ["default", "rladies", "rladies-fonts"]
    nature: 
      highlightStyle: github
      highlightLines: true
---
<img src="dplyr.png" width="10%" align="right" />

# Tener los paquetes cargados

```{r gapminder, warning=FALSE, message=FALSE}
library(dplyr)
library(magrittr)
library(gapminder)
```


---
<img src="dplyr.png" width="10%" align="right" />

# 1. De gapminder seleccionar los datos correspondientes a Argentina. 


```{r , warning=FALSE, echo=FALSE}
gapminder_unfiltered %>%
  filter(country=="Argentina")
```



---
<img src="dplyr.png" width="10%" align="right" />

# Solución

```{r , warning=FALSE}
gapminder %>%
  filter(country=="Argentina")
```

---
<img src="dplyr.png" width="10%" align="right" />

## 2. Seleccionar los datos correspondientes al continente americano, correspondientes del año 80 en adelante. Los datos deben estar ordenados según los años más actuales. 

```{r , warning=FALSE, echo=FALSE}
gapminder %>%
  filter(continent=="Americas", year >= 1980) %>%
  arrange(desc(year))
```

---
<img src="dplyr.png" width="10%" align="right" />

# Solución
```{r , warning=FALSE}
gapminder %>%
  filter(continent=="Americas", year >= 1980) %>%
  arrange(desc(year))
```

---
<img src="dplyr.png" width="10%" align="right" />

# 3. Seleccionar las columnas correspondientes a ingresos per capita y esperanza de vida

```{r , warning=FALSE, echo=FALSE}
gapminder %>%
  select(lifeExp, gdpPercap)
```
---
<img src="dplyr.png" width="10%" align="right" />

# Solución 

```{r , warning=FALSE}
gapminder %>%
  select(lifeExp, gdpPercap)
```
---
<img src="dplyr.png" width="10%" align="right" />

# 4. Calcular la media por continente del ingreso per cápita y la esperanza de vida. Ordenarlos de mayor a menor según la esperanza de vida.

```{r , warning=FALSE, echo=FALSE}
gapminder %>%
  group_by(continent) %>%
  summarize(gpd=mean(gdpPercap), lifeE=mean(lifeExp)) %>%
  arrange(desc(lifeE))
```



---
<img src="dplyr.png" width="10%" align="right" />

# Solución

```{r , warning=FALSE}
gapminder %>%
  group_by(continent) %>%
  summarize(gpd=mean(gdpPercap), lifeE=mean(lifeExp)) %>%
  arrange(desc(lifeE))
```

---
<img src="dplyr.png" width="10%" align="right" />

## 5. Vamos a crear esta visualización paso a paso


```{r , warning=FALSE, message=FALSE, echo=FALSE}
library(ggplot2)
ggplot(data=gapminder,aes(x=gdpPercap,y=lifeExp,color=continent,
  size = pop)) + geom_point() + 
  scale_x_log10() + 
  facet_wrap(~year)
```


---
<img src="dplyr.png" width="10%" align="right" />

#### Cargamos librerías

```{r , warning=FALSE, message=FALSE, eval=FALSE}
library(ggplot2)
```

#### Creo un objeto

```{r , warning=FALSE, message=FALSE, eval=FALSE}
p <- ggplot(data=gapminder,aes(x=gdpPercap,y=lifeExp,color=continent, size = pop)) 
```
#### Agrego la capa geoms
```{r , warning=FALSE, message=FALSE, eval=FALSE}
p + geom_point() 
```
#### Paso X a escala logarítmica 
```{r , warning=FALSE, message=FALSE, eval=FALSE}
p + scale_x_log10()
```
#### Podemos ver por años mediante facet_wrap
```{r , warning=FALSE, message=FALSE, eval=FALSE}
p +  facet_wrap(~year)
```
